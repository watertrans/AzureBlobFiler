(function(e){function a(a){for(var l,n,r=a[0],i=a[1],c=a[2],p=0,u=[];p<r.length;p++)n=r[p],Object.prototype.hasOwnProperty.call(o,n)&&o[n]&&u.push(o[n][0]),o[n]=0;for(l in i)Object.prototype.hasOwnProperty.call(i,l)&&(e[l]=i[l]);d&&d(a);while(u.length)u.shift()();return s.push.apply(s,c||[]),t()}function t(){for(var e,a=0;a<s.length;a++){for(var t=s[a],l=!0,r=1;r<t.length;r++){var i=t[r];0!==o[i]&&(l=!1)}l&&(s.splice(a--,1),e=n(n.s=t[0]))}return e}var l={},o={app:0},s=[];function n(a){if(l[a])return l[a].exports;var t=l[a]={i:a,l:!1,exports:{}};return e[a].call(t.exports,t,t.exports,n),t.l=!0,t.exports}n.m=e,n.c=l,n.d=function(e,a,t){n.o(e,a)||Object.defineProperty(e,a,{enumerable:!0,get:t})},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,a){if(1&a&&(e=n(e)),8&a)return e;if(4&a&&"object"===typeof e&&e&&e.__esModule)return e;var t=Object.create(null);if(n.r(t),Object.defineProperty(t,"default",{enumerable:!0,value:e}),2&a&&"string"!=typeof e)for(var l in e)n.d(t,l,function(a){return e[a]}.bind(null,l));return t},n.n=function(e){var a=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(a,"a",a),a},n.o=function(e,a){return Object.prototype.hasOwnProperty.call(e,a)},n.p="/";var r=window["webpackJsonp"]=window["webpackJsonp"]||[],i=r.push.bind(r);r.push=a,r=r.slice();for(var c=0;c<r.length;c++)a(r[c]);var d=i;s.push([1,"chunk-vendors"]),t()})({0:function(e,a){},1:function(e,a,t){e.exports=t("cd49")},"20e5":function(e,a,t){"use strict";(function(e){t.d(a,"a",(function(){return o}));var l=t("3ff8");t("5a92");function o(e){const a=l["a"].parse(e);let t=a.getPath();return t=t||"/",t=s(t),a.setPath(t),a.toString()}function s(e){return encodeURIComponent(e).replace(/%2F/g,"/").replace(/'/g,"%27").replace(/\+/g,"%20").replace(/%25/g,"%")}}).call(this,t("b639").Buffer)},b383:function(e,a,t){},cd49:function(e,a,t){"use strict";t.r(a);var l=t("7a23"),o=t("47e2");const s={ja:{primevueLocale:{monthNamesJanuary:"1月",monthNamesFebruary:"2月",monthNamesMarch:"3月",monthNamesApril:"4月",monthNamesMay:"5月",monthNamesJune:"6月",monthNamesJuly:"7月",monthNamesAugust:"8月",monthNamesSeptember:"9月",monthNamesOctober:"10月",monthNamesNovember:"11月",monthNamesDecember:"12月",dayNamesMinSu:"日",dayNamesMinMo:"月",dayNamesMinTu:"火",dayNamesMinWe:"水",dayNamesMinTh:"木",dayNamesMinFr:"金",dayNamesMinSa:"土"},general:{refresh:"更新",close:"閉じる",cancel:"キャンセル",upload:"アップロード",uploading:"アップロードしています...",uploaded:"アップロード完了",createFolder:"フォルダ作成",folderUpload:"フォルダアップロード",fileUpload:"ファイルアップロード",folderDelete:"フォルダ削除",fileDelete:"ファイル削除",folderName:"フォルダ名",selectedItems:"アクション（{count}件）",inputSasUrl:"SAS URLを設定してください",sasUrl:"SAS URL",submit:"設定"},message:{required:"'{target}'を入力してください。",illegalCharacter:"'{target}'に'{illegal}'を入力することはできません。",unexpectedSignedResource:"コンテナーに対するSAS URLを発行してください。",unexpectedSignedPermissions:"コンテナーに対するアクセス許可が足りません。",invalidSasUrl:"指定したSAS URLは使用できません。"},toast:{errorSummary:"エラー",errorDetail:"エラーが発生しました。",createdSummary:"登録完了",createdDetail:"登録処理が完了しました。",updatedSummary:"更新完了",updatedDetail:"更新処理が完了しました。",deletedSummary:"削除完了",deletedDetail:"削除処理が完了しました。"}}},n=Object(o["a"])({locale:"ja",fallbackLocale:"ja",messages:s});var r=n;function i(e,a,t,o,s,n){const r=Object(l["F"])("router-view");return Object(l["z"])(),Object(l["g"])(r)}t("f5df");var c=Object(l["n"])({name:"App"}),d=t("6b0d"),p=t.n(d);const u=p()(c,[["render",i]]);var m=u,g=t("6c02");const f={class:"home"},b=Object(l["l"])(" "),y={style:{position:"relative"}},h=["src"],O={style:{"margin-left":"32px"}},j={class:"p-fluid"},v={class:"field"},U={for:"sasUrl",style:{"font-weight":"bold"}},S={key:0,id:"sasUrlHelp",class:"p-error"},w={class:"p-fluid"},k={class:"field"},N={for:"folderName",style:{"font-weight":"bold"}},x={key:0,id:"folderNameHelp",class:"p-error"},F={class:"fluid",style:{"margin-bottom":"5px"}},P={style:{"font-weight":"normal",color:"#fff","text-shadow":"1px 1px 0 #495057"}};function I(e,a,t,o,s,n){const r=Object(l["F"])("Tree"),i=Object(l["F"])("SplitterPanel"),c=Object(l["F"])("Menubar"),d=Object(l["F"])("Breadcrumb"),p=Object(l["F"])("Column"),u=Object(l["F"])("DataTable"),m=Object(l["F"])("Splitter"),g=Object(l["F"])("InputText"),I=Object(l["F"])("Button"),C=Object(l["F"])("Dialog"),M=Object(l["F"])("ProgressBar"),D=Object(l["F"])("FileUploadProgress");return Object(l["z"])(),Object(l["i"])("div",f,[Object(l["m"])(m,{class:"layout",stateKey:"directorySplitter",stateStorage:"local"},{default:Object(l["P"])(()=>[Object(l["m"])(i,{class:"layout-left",size:20},{default:Object(l["P"])(()=>[Object(l["m"])(r,{class:"layout-left__tree",value:e.nodes,expandedKeys:e.expandedKeys,"onUpdate:expandedKeys":a[0]||(a[0]=a=>e.expandedKeys=a),selectionKeys:e.selectionKeys,"onUpdate:selectionKeys":a[1]||(a[1]=a=>e.selectionKeys=a),onNodeSelect:e.onNodeSelect,onNodeExpand:e.onNodeSelect,selectionMode:"single"},null,8,["value","expandedKeys","selectionKeys","onNodeSelect","onNodeExpand"])]),_:1}),Object(l["m"])(i,{class:"layout-right",size:80},{default:Object(l["P"])(()=>[Object(l["m"])(c,{class:"layout-right__menu",model:e.menuItems},null,8,["model"]),Object(l["m"])(d,{class:"layout-right__breadcrumb",home:e.breadcrumbHome,model:e.breadcrumbItems},null,8,["home","model"]),Object(l["m"])(u,{class:"layout-right__table",selection:e.selectedItems,"onUpdate:selection":a[2]||(a[2]=a=>e.selectedItems=a),dataKey:"name",loading:e.loading,scrollable:!0,scrollHeight:"calc(100vh - 250px)",value:e.blobItems,resizableColumns:!0,scrollDirection:"both",columnResizeMode:"expand"},{empty:Object(l["P"])(()=>[b]),default:Object(l["P"])(()=>[Object(l["m"])(p,{selectionMode:"multiple",style:{"flex-basis":"42px"}}),Object(l["m"])(p,{field:"name",header:"Name",style:{"flex-basis":"400px"}},{body:Object(l["P"])(a=>[Object(l["j"])("span",y,[Object(l["j"])("img",{src:e.getFileIcon(a.data.name),style:{position:"absolute",margin:"-8px 0 0 -8px"}},null,8,h),Object(l["j"])("span",O,Object(l["J"])(e.getFileName(a.data.name)),1)])]),_:1}),Object(l["m"])(p,{field:"properties.lastModified",header:"LastModified",style:{"flex-basis":"200px"}},{body:Object(l["P"])(a=>[Object(l["l"])(Object(l["J"])(e.convertToISO8601Local(a.data.properties.lastModified)),1)]),_:1}),Object(l["m"])(p,{field:"properties.contentLength",header:"Size",style:{"flex-basis":"120px"},bodyStyle:"justify-content: right"},{body:Object(l["P"])(a=>[Object(l["l"])(Object(l["J"])(e.formatBytes(a.data.properties.contentLength)),1)]),_:1}),Object(l["m"])(p,{field:"properties.contentType",header:"ContentType",style:{"flex-basis":"200px"}})]),_:1},8,["selection","loading","value"]),Object(l["Q"])(Object(l["j"])("textarea",{ref:"messageRef",class:"layout-right__message","onUpdate:modelValue":a[3]||(a[3]=a=>e.messages=a),style:{width:"100%"},readonly:""},null,512),[[l["N"],e.messages]]),Object(l["j"])("input",{ref:"fileUploadInputRef",type:"file",name:"file",id:"fileUploadInput",onChange:a[4]||(a[4]=(...a)=>e.onChangeFileUploadInput&&e.onChangeFileUploadInput(...a)),hidden:"",multiple:""},null,544),Object(l["j"])("input",{ref:"folderUploadInputRef",type:"file",name:"folder",id:"folderUploadInput",onChange:a[5]||(a[5]=(...a)=>e.onChangeFolderUploadInput&&e.onChangeFolderUploadInput(...a)),hidden:"",webkitdirectory:""},null,544)]),_:1})]),_:1}),Object(l["m"])(C,{header:e.t("general.inputSasUrl"),visible:e.isShowingInputSasUrlDialog,"onUpdate:visible":a[7]||(a[7]=a=>e.isShowingInputSasUrlDialog=a),style:{width:"600px"},modal:!0,closable:!1},{footer:Object(l["P"])(()=>[Object(l["m"])(I,{label:e.t("general.submit"),icon:"pi pi-check",onClick:e.onClickDialogSubmitSasUrl,class:"mr-0"},null,8,["label","onClick"])]),default:Object(l["P"])(()=>[Object(l["j"])("div",j,[Object(l["j"])("div",v,[Object(l["j"])("label",U,Object(l["J"])(e.t("general.sasUrl")),1),Object(l["m"])(g,{id:"sasUrl",modelValue:e.sasUrl,"onUpdate:modelValue":a[6]||(a[6]=a=>e.sasUrl=a),class:Object(l["u"])(e.sasUrlErrorMessage?"p-invalid":""),maxlength:"512",autocomplete:"off"},null,8,["modelValue","class"]),e.sasUrlErrorMessage?(Object(l["z"])(),Object(l["i"])("small",S,Object(l["J"])(e.sasUrlErrorMessage),1)):Object(l["h"])("",!0)])])]),_:1},8,["header","visible"]),Object(l["m"])(C,{header:e.t("general.createFolder"),visible:e.isShowingCreateFolderDialog,"onUpdate:visible":a[10]||(a[10]=a=>e.isShowingCreateFolderDialog=a),style:{width:"400px"},modal:!0},{footer:Object(l["P"])(()=>[Object(l["m"])(I,{label:e.t("general.cancel"),icon:"pi pi-times",onClick:a[9]||(a[9]=a=>e.isShowingCreateFolderDialog=!1),class:"p-button-text"},null,8,["label"]),Object(l["m"])(I,{label:e.t("general.createFolder"),icon:"pi pi-check",onClick:e.onClickDialogCreateFolder,class:"mr-0"},null,8,["label","onClick"])]),default:Object(l["P"])(()=>[Object(l["j"])("div",w,[Object(l["j"])("div",k,[Object(l["j"])("label",N,Object(l["J"])(e.t("general.folderName")),1),Object(l["m"])(g,{id:"folderName",modelValue:e.folderName,"onUpdate:modelValue":a[8]||(a[8]=a=>e.folderName=a),class:Object(l["u"])(e.folderNameErrorMessage?"p-invalid":""),maxlength:"254",autocomplete:"off"},null,8,["modelValue","class"]),e.folderNameErrorMessage?(Object(l["z"])(),Object(l["i"])("small",x,Object(l["J"])(e.folderNameErrorMessage),1)):Object(l["h"])("",!0)])])]),_:1},8,["header","visible"]),Object(l["m"])(C,{header:e.isUploading?e.t("general.uploading"):e.t("general.uploaded"),visible:e.isShowingUploadProgressDialog,"onUpdate:visible":a[12]||(a[12]=a=>e.isShowingUploadProgressDialog=a),style:{width:"768px","max-height":"80vh"},modal:!0,closable:!1},{footer:Object(l["P"])(()=>[Object(l["m"])(I,{label:e.t("general.close"),icon:"pi pi-check",onClick:a[11]||(a[11]=a=>e.isShowingUploadProgressDialog=!1),class:"mr-0",disabled:e.isUploading},null,8,["label","disabled"])]),default:Object(l["P"])(()=>[Object(l["j"])("div",F,[Object(l["m"])(M,{value:e.getUploadProgress()},{default:Object(l["P"])(()=>[Object(l["j"])("div",P,Object(l["J"])(e.getUploadProgress())+"%",1)]),_:1},8,["value"])]),(Object(l["z"])(!0),Object(l["i"])(l["a"],null,Object(l["D"])(e.uploadFiles,a=>(Object(l["z"])(),Object(l["g"])(D,{key:a.key,keyValue:a.key,name:a.name,size:a.size,uploaded:a.uploaded,onCompelete:e.onCompeleteUpload,onClose:e.onCloseUploadProgress},null,8,["keyValue","name","size","uploaded","onCompelete","onClose"]))),128))]),_:1},8,["header","visible"])])}var C=t("6bd1"),M=t("20e5"),D=t("3ff8");function B(e,a=1){if(0===e)return"0 B";const t=1024,l=a<0?0:a,o=["B","KB","MB","GB","TB","PB","EB","ZB","YB"],s=Math.floor(Math.log(e)/Math.log(t));return parseFloat((e/Math.pow(t,s)).toFixed(l))+" "+o[s]}function z(e){return e.replace(/^.*[\\/]/,"")}function R(e){return e.split(".").pop()}function _(e){setTimeout(()=>{const a=document.getElementById(e);a&&a.focus()},200)}const T=new Set(["aac","ai","aiff","avi","bmp","c","cpp","css","csv","dat","dmg","doc","dotx","dwg","dxf","eps","exe","flv","gif","h","hpp","html","ics","iso","java","jpg","js","key","less","mid","mp3","mp4","mpg","odf","ods","odt","otp","ott","pdf","php","png","ppt","psd","py","qt","rar","rb","rtf","sass","scss","sql","tga","tgz","tiff","txt","wav","xls","xlsx","xml","yml","zip"]);function E(e){const a="/img/icon/file/",t=".png";let l=R(e).toLowerCase();return T.has(l)||(l="_blank"),a+l+t}function K(e){return null==e?"":e.getUTCFullYear()+"-"+H(e.getUTCMonth()+1)+"-"+H(e.getUTCDate())+"T"+H(e.getUTCHours())+":"+H(e.getUTCMinutes())+":"+H(e.getUTCSeconds())+"Z"}function L(e){if(null==e)return"";const a=-1*(new Date).getTimezoneOffset();if(0==a)return K(e);const t=a<0?"-":"+",l=Math.floor(Math.abs(a/60)),o=Math.abs(a%60);return e.getFullYear()+"-"+H(e.getMonth()+1)+"-"+H(e.getDate())+"T"+H(e.getHours())+":"+H(e.getMinutes())+":"+H(e.getSeconds())+t+H(l)+":"+H(o)}function H(e,a=2){return e.toString().padStart(a,"0")}function J(e,a){for(let t=0;t<a.length;++t)if(e.indexOf(a.charAt(t))<0)return!1;return!0}const V={class:"fluid",style:{"margin-bottom":"5px"}},A={style:{"margin-left":"5px","font-weight":"normal",color:"#fff","text-align":"left","text-shadow":"1px 1px 0 #495057"}};function q(e,a,t,o,s,n){const r=Object(l["F"])("ProgressBar");return Object(l["z"])(),Object(l["i"])("div",V,[Object(l["m"])(r,{value:e.value},{default:Object(l["P"])(()=>[Object(l["j"])("div",A,Object(l["J"])(e.name)+" : "+Object(l["J"])(e.value)+"%",1)]),_:1},8,["value"])])}var W=Object(l["n"])({name:"FileUploadProgress",props:{keyValue:String,name:String,size:{type:Number,default:0},uploaded:{type:Number,default:0}},emits:["compelete","close"],setup(e,a){const t=Object(l["B"])({closing:!1,value:0});return Object(l["O"])(()=>e.uploaded,l=>{t.value=Math.floor(l/e.size*100),t.value>=100&&!t.closing&&(t.closing=!0,a.emit("compelete",e.keyValue,e.size),setTimeout(()=>a.emit("close",e.keyValue),3e3))}),{...Object(l["L"])(t)}}});const Q=p()(W,[["render",q]]);var Y=Q,G=Object(l["n"])({name:"Home",components:{FileUploadProgress:Y},setup(){const{t:e}=Object(o["b"])(),a=Object(l["C"])(),t=Object(l["C"])(),s=Object(l["C"])(),n={key:"",label:"",icon:"pi pi-fw pi-inbox",children:[],data:[],loaded:!1},r=[{key:"refresh",label:e("general.refresh"),icon:"pi pi-fw pi-refresh",command:async()=>{await w()}},{key:"createFolder",label:e("general.createFolder"),icon:"pi pi-fw pi-folder",command:async()=>{await k()}},{key:"upload",label:e("general.upload"),icon:"pi pi-fw pi-upload",items:[{key:"folderUpload",label:e("general.folderUpload"),icon:"pi pi-fw pi-folder-open",command:async()=>{await P()}},{key:"fileUpload",label:e("general.fileUpload"),icon:"pi pi-fw pi-copy",command:async()=>{await F()}}]},{key:"selectedItems",label:Object(l["e"])(()=>e("general.selectedItems",{count:u.selectedItems.length})),icon:"pi pi-fw pi-ellipsis-h",disabled:Object(l["e"])(()=>0==u.selectedItems.length),items:[{key:"fileDelete",label:e("general.fileDelete"),icon:"pi pi-fw pi-file-excel",command:async()=>{await R()}}]},{key:"folderDelete",label:e("general.folderDelete"),icon:"pi pi-fw pi-trash",command:async()=>{await I()}}];let i,c,d="{ENTER_THE_BLOB_SAS_URL_HERE}",p=".";const u=Object(l["B"])({loading:!1,expandedKeys:{},selectionKeys:{},breadcrumbHome:{label:"",command:()=>j("")},breadcrumbItems:[],nodes:[],node:n,flattenedNodes:{},blobItems:[],selectedItems:[],messages:"",menuItems:r,folderName:"",folderNameErrorMessage:"",sasUrl:"",sasUrlErrorMessage:"",isShowingCreateFolderDialog:!1,isShowingUploadProgressDialog:!1,isShowingInputSasUrlDialog:!1,isUploading:!1,uploadFiles:[],uploadSize:0,uploadedSize:0});u.flattenedNodes[n.key]=n;const m=async()=>{i=new C["a"](d),p=".",c=i.getContainerClient(p),await c.listBlobsByHierarchy("/",{prefix:"__DUMMY__"}).next(),await g(n,!1),u.nodes.push(n),u.breadcrumbHome.label=c.containerName,n.label=c.containerName,n.children&&n.children.length>0&&y(n.key)},g=async(e,a)=>{if(!e.children)return;const t=e.key;if(u.selectedItems=[],u.blobItems=[],a||!e.loaded){a&&(e.loaded=!1,e.children.splice(0),e.data.splice(0)),u.loading=!0;try{u.messages+="[INFO] GET /"+t+"\n";for await(const a of c.listBlobsByHierarchy("/",{prefix:t}))if("prefix"===a.kind){let t=a;if(e.children.find(e=>e.key==t.name))continue;const l={key:t.name,label:z(t.name.slice(0,-1)),icon:"pi pi-fw pi-folder",children:[],data:[],leaf:!1,parent:e};e.children.push(l),u.flattenedNodes[l.key]=l}else{let t=a;".keep"!=z(t.name)&&u.blobItems.push(t),e.data.push(t)}e.loaded=!0}catch(l){u.messages+="[ERROR] "+l.message+"\n"}u.loading=!1,f()}else{const a=e.data.length;for(let t=0;t<a;t++)".keep"!=z(e.data[t].name)&&u.blobItems.push(e.data[t])}},f=()=>{a.value&&(a.value.scrollTop=a.value.scrollHeight)},b=e=>u.flattenedNodes[e],y=e=>{u.expandedKeys[e]=!0},h=e=>{delete u.expandedKeys[e]},O=e=>{for(const a in u.expandedKeys)a.startsWith(e)&&h(a);h(e)},j=async e=>{const a=b(e);a&&await q(a);for(const t in u.selectionKeys)delete u.selectionKeys[t];u.selectionKeys[e]=!0},v=async e=>{const a=b(e);a&&(O(a.key),await g(a,!0),await j(a.key))},U=e=>{u.breadcrumbItems.splice(0);const a=e.key.slice(0,-1).split("/");let t="";const l=a.length;for(let o=0;o<l;o++)if(a[o]){t+=a[o]+"/";const e=t;u.breadcrumbItems.push({label:a[o],command:async()=>{await j(e)}})}},S=()=>0==u.uploadSize?0:Math.floor(u.uploadedSize/u.uploadSize*100),w=async()=>{await v(u.node.key)},k=async()=>{u.folderName="",u.folderNameErrorMessage="",u.isShowingCreateFolderDialog=!0,_("folderName")},N=async()=>{if(!u.sasUrl)return void(u.sasUrlErrorMessage=e("message.required",{target:e("general.sasUrl")}));const a=Object(M["a"])(u.sasUrl),t=D["a"].parse(a);if("c"==t.getQueryParameterValue("sr"))if(t.getQueryParameterValue("sp"))if(J(t.getQueryParameterValue("sp"),"racwdl")){d=u.sasUrl;try{await m()}catch(l){return console.log(l),void(u.sasUrlErrorMessage=e("message.invalidSasUrl"))}u.isShowingInputSasUrlDialog=!1}else u.sasUrlErrorMessage=e("message.unexpectedSignedPermissions");else u.sasUrlErrorMessage=e("message.unexpectedSignedPermissions");else u.sasUrlErrorMessage=e("message.unexpectedSignedResource")},x=async()=>{if(!u.folderName)return void(u.folderNameErrorMessage=e("message.required",{target:e("general.folderName")}));if(u.folderName.includes("/"))return void(u.folderNameErrorMessage=e("message.illegalCharacter",{target:e("general.folderName"),illegal:"/"}));const a=u.node.key+u.folderName+"/";try{u.messages+="[INFO] Creating /"+u.folderName+"\n";const e=c.getBlockBlobClient(a+".keep");await e.uploadData(new ArrayBuffer(0)),u.messages+="[INFO] Done.\n"}catch(t){u.messages+="[ERROR] "+t.message+"\n"}if(f(),u.node.children&&!u.node.children.find(e=>e.key==a)){const e={key:a,label:z(a.slice(0,-1)),icon:"pi pi-fw pi-folder",children:[],data:[],leaf:!1,parent:u.node};u.node.children.push(e),u.flattenedNodes[e.key]=e,y(u.node.key)}await j(a),u.isShowingCreateFolderDialog=!1},F=async()=>{t.value&&t.value.click()},P=async()=>{s.value&&s.value.click()},I=async()=>{try{u.messages+="[INFO] Preparing for delete...\n";const e=[];for(const a in u.flattenedNodes){const t=u.flattenedNodes[a];if(t.key.startsWith(u.node.key)){for(const a of t.data)u.messages+="[INFO] Deleting /"+a.name+"\n",e.push(c.deleteBlob(a.name));delete u.flattenedNodes[a]}}await Promise.all(e),u.messages+="[INFO] Done.\n"}catch(e){u.messages+="[ERROR] "+e.message+"\n"}f(),u.node.parent?(O(u.node.parent.key),await g(u.node.parent,!0),await j(u.node.parent.key)):(O(n.key),await g(n,!0),await j(n.key))},R=async()=>{try{u.messages+="[INFO] Preparing for delete...\n";const e=[];for(const a of u.selectedItems)u.messages+="[INFO] Deleting /"+a.name+"\n",e.push(c.deleteBlob(a.name));await Promise.all(e),u.messages+="[INFO] Done.\n"}catch(e){u.messages+="[ERROR] "+e.message+"\n"}f(),O(u.node.key),await g(u.node,!0),await j(u.node.key)},T=async()=>{if(t.value&&t.value.files){u.isShowingUploadProgressDialog=!0,u.uploadFiles=[],u.uploadSize=0,u.uploadedSize=0,u.isUploading=!0;try{u.messages+="[INFO] Preparing for upload...\n";const e=[];for(const a of t.value.files){u.messages+="[INFO] Uploading /"+u.node.key+a.name+"\n";const t=c.getBlockBlobClient(u.node.key+a.name),o=Object(l["B"])({key:u.node.key+a.name,name:a.name,size:a.size,uploaded:0});u.uploadSize+=a.size,u.uploadFiles.push(o),e.push(t.uploadData(a,{onProgress:e=>{o.uploaded=e.loadedBytes}}))}await Promise.all(e),u.messages+="[INFO] Done.\n"}catch(e){u.messages+="[ERROR] "+e.message+"\n"}f(),await g(u.node,!0),u.isUploading=!1,t.value.value=""}},H=async()=>{if(s.value&&s.value.files){u.isShowingUploadProgressDialog=!0,u.uploadFiles=[],u.uploadSize=0,u.uploadedSize=0,u.isUploading=!0;try{u.messages+="[INFO] Preparing for upload...\n";const e=[];for(const a of s.value.files){const t=a;u.messages+="[INFO] Uploading /"+u.node.key+t.webkitRelativePath+"\n";const o=c.getBlockBlobClient(u.node.key+t.webkitRelativePath),s=Object(l["B"])({key:u.node.key+t.webkitRelativePath,name:a.name,size:a.size,uploaded:0});u.uploadSize+=a.size,u.uploadFiles.push(s),e.push(o.uploadData(a,{onProgress:e=>{s.uploaded=e.loadedBytes}}))}await Promise.all(e),u.messages+="[INFO] Done.\n"}catch(e){u.messages+="[ERROR] "+e.message+"\n"}f(),await v(u.node.key),u.isUploading=!1,s.value.value=""}},V=(e,a)=>{u.uploadedSize+=a},A=e=>{if(!u.uploadFiles)return;let a=-1;for(let t=0;t<u.uploadFiles.length;t++)if(u.uploadFiles[t].key===e){a=t;break}a>=0&&u.uploadFiles.splice(a,1)},q=async e=>{await g(e,!1),u.node=e,U(e),e.children&&e.children.length>0?y(e.key):e.leaf=!0};return Object(l["x"])(async()=>{if(d.startsWith("{")&&d.endsWith("}"))u.isShowingInputSasUrlDialog=!0;else try{await m()}catch(e){console.log(e),u.isShowingInputSasUrlDialog=!0}}),{...Object(l["L"])(u),messageRef:a,fileUploadInputRef:t,folderUploadInputRef:s,convertToISO8601:K,convertToISO8601Local:L,formatBytes:B,getFileName:z,getFileIcon:E,getUploadProgress:S,listBlobs:g,onChangeFileUploadInput:T,onChangeFolderUploadInput:H,onClickDialogCreateFolder:x,onClickDialogSubmitSasUrl:N,onCloseUploadProgress:A,onCompeleteUpload:V,onNodeSelect:q,t:e}}});const Z=p()(G,[["render",I]]);var X=Z;const $=[{path:"/",name:"Home",component:X}],ee=Object(g["a"])({history:Object(g["b"])("/"),routes:$});var ae=ee,te=t("9319"),le=t("bb57"),oe=t("c98b"),se=t("6f85"),ne=t("5b2c"),re=t("5bd2"),ie=t("8398"),ce=t("c0c3"),de=t("c045"),pe=t("237b"),ue=t("1e02"),me=t("e73a"),ge=t("5eec");t("098b"),t("e1ae"),t("4121"),t("22a3"),t("b383");const fe=Object(l["f"])(m);fe.use(r),fe.use(ae),fe.use(te["a"]),fe.component("Button",le["a"]),fe.component("Breadcrumb",oe["a"]),fe.component("Column",se["a"]),fe.component("DataTable",ne["a"]),fe.component("Dialog",re["a"]),fe.component("InputText",ie["a"]),fe.component("Menubar",ce["a"]),fe.component("ProgressBar",de["a"]),fe.component("Splitter",pe["a"]),fe.component("SplitterPanel",ue["a"]),fe.component("Tree",me["a"]),fe.component("TreeTable",ge["a"]),fe.mount("#app")}});
//# sourceMappingURL=app.js.map